<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Organising an R project at Grttan | Using R at Grattan Institute</title>
  <meta name="description" content="How to use R at Grattan good. In development." />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Organising an R project at Grttan | Using R at Grattan Institute" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="How to use R at Grattan good. In development." />
  <meta name="github-repo" content="grattan/R_at_Grattan" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Organising an R project at Grttan | Using R at Grattan Institute" />
  
  <meta name="twitter:description" content="How to use R at Grattan good. In development." />
  

<meta name="author" content="Will Mackey and Matt Cowgill" />


<meta name="date" content="2019-08-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="why-use-r.html"/>
<link rel="next" href="data-visualisation.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Using R at Grattan Institute</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#what-is-r"><i class="fa fa-check"></i><b>1.1</b> What is R?</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#what-is-rstudio"><i class="fa fa-check"></i><b>1.2</b> What is RStudio?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#packages"><i class="fa fa-check"></i><b>1.4</b> Packages</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#installing-packages"><i class="fa fa-check"></i><b>1.4.1</b> Installing packages</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#using-packages"><i class="fa fa-check"></i><b>1.4.2</b> Using packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="why-use-r.html"><a href="why-use-r.html"><i class="fa fa-check"></i><b>2</b> Why use R?</a><ul>
<li class="chapter" data-level="2.1" data-path="why-use-r.html"><a href="why-use-r.html#why-script"><i class="fa fa-check"></i><b>2.1</b> Why use script-based software?</a></li>
<li class="chapter" data-level="2.2" data-path="why-use-r.html"><a href="why-use-r.html#why-R"><i class="fa fa-check"></i><b>2.2</b> Why use R specifically?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="organising-an-r-project-at-grttan.html"><a href="organising-an-r-project-at-grttan.html"><i class="fa fa-check"></i><b>3</b> Organising an R project at Grttan</a><ul>
<li class="chapter" data-level="3.1" data-path="organising-an-r-project-at-grttan.html"><a href="organising-an-r-project-at-grttan.html#use-rstudio-projects-dont-use-setwd"><i class="fa fa-check"></i><b>3.1</b> Use RStudio projects, don’t use <code>setwd()</code></a></li>
<li class="chapter" data-level="3.2" data-path="organising-an-r-project-at-grttan.html"><a href="organising-an-r-project-at-grttan.html#keep-your-stuff-together"><i class="fa fa-check"></i><b>3.2</b> Keep your stuff together</a><ul>
<li class="chapter" data-level="3.2.1" data-path="organising-an-r-project-at-grttan.html"><a href="organising-an-r-project-at-grttan.html#filepaths"><i class="fa fa-check"></i><b>3.2.1</b> Filepaths</a></li>
<li class="chapter" data-level="3.2.2" data-path="organising-an-r-project-at-grttan.html"><a href="organising-an-r-project-at-grttan.html#keep-your-scripts-manageable"><i class="fa fa-check"></i><b>3.2.2</b> Keep your scripts manageable</a></li>
<li class="chapter" data-level="3.2.3" data-path="organising-an-r-project-at-grttan.html"><a href="organising-an-r-project-at-grttan.html#use-subfolders-of-your-project-folder"><i class="fa fa-check"></i><b>3.2.3</b> Use subfolders of your project folder</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="organising-an-r-project-at-grttan.html"><a href="organising-an-r-project-at-grttan.html#grattan-coding-style-guide"><i class="fa fa-check"></i><b>3.3</b> Grattan coding style guide</a></li>
<li class="chapter" data-level="3.4" data-path="organising-an-r-project-at-grttan.html"><a href="organising-an-r-project-at-grttan.html#what-is-the-tidyverse-and-why-do-we-use-it"><i class="fa fa-check"></i><b>3.4</b> What is the tidyverse and why do we use it?</a></li>
<li class="chapter" data-level="3.5" data-path="organising-an-r-project-at-grttan.html"><a href="organising-an-r-project-at-grttan.html#an-introduction-to-rmarkdown"><i class="fa fa-check"></i><b>3.5</b> An introduction to RMarkdown</a></li>
<li class="chapter" data-level="3.6" data-path="organising-an-r-project-at-grttan.html"><a href="organising-an-r-project-at-grttan.html#resources-in-this-package"><i class="fa fa-check"></i><b>3.6</b> Resources in this package</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>4</b> Data Visualisation</a><ul>
<li class="chapter" data-level="4.1" data-path="data-visualisation.html"><a href="data-visualisation.html#set-up-and-packages"><i class="fa fa-check"></i><b>4.1</b> Set-up and packages</a></li>
<li class="chapter" data-level="4.2" data-path="data-visualisation.html"><a href="data-visualisation.html#a-tibble-6-x-3"><i class="fa fa-check"></i><b>4.2</b> # A tibble: 6 x 3</a></li>
<li class="chapter" data-level="4.3" data-path="data-visualisation.html"><a href="data-visualisation.html#groups-year-1"><i class="fa fa-check"></i><b>4.3</b> # Groups: year [1]</a></li>
<li class="chapter" data-level="4.4" data-path="data-visualisation.html"><a href="data-visualisation.html#year-state-pop"><i class="fa fa-check"></i><b>4.4</b> year state pop</a></li>
<li class="chapter" data-level="4.5" data-path="data-visualisation.html"><a href="data-visualisation.html#section"><i class="fa fa-check"></i><b>4.5</b> <fct> <chr> <dbl></a></li>
<li class="chapter" data-level="4.6" data-path="data-visualisation.html"><a href="data-visualisation.html#australian-capital-territory-383257"><i class="fa fa-check"></i><b>4.6</b> 1 2013 Australian Capital Territory 383257</a></li>
<li class="chapter" data-level="4.7" data-path="data-visualisation.html"><a href="data-visualisation.html#new-south-wales-7404032"><i class="fa fa-check"></i><b>4.7</b> 2 2013 New South Wales 7404032</a></li>
<li class="chapter" data-level="4.8" data-path="data-visualisation.html"><a href="data-visualisation.html#northern-territory-241722"><i class="fa fa-check"></i><b>4.8</b> 3 2013 Northern Territory 241722</a></li>
<li class="chapter" data-level="4.9" data-path="data-visualisation.html"><a href="data-visualisation.html#other-territories-2962"><i class="fa fa-check"></i><b>4.9</b> 4 2013 Other Territories 2962</a></li>
<li class="chapter" data-level="4.10" data-path="data-visualisation.html"><a href="data-visualisation.html#queensland-4652824"><i class="fa fa-check"></i><b>4.10</b> 5 2013 Queensland 4652824</a></li>
<li class="chapter" data-level="4.11" data-path="data-visualisation.html"><a href="data-visualisation.html#south-australia-1671488"><i class="fa fa-check"></i><b>4.11</b> 6 2013 South Australia 1671488</a></li>
<li class="chapter" data-level="4.12" data-path="data-visualisation.html"><a href="data-visualisation.html#concepts"><i class="fa fa-check"></i><b>4.12</b> Concepts</a></li>
<li class="chapter" data-level="4.13" data-path="data-visualisation.html"><a href="data-visualisation.html#making-grattan-y-charts"><i class="fa fa-check"></i><b>4.13</b> Making Grattan-y charts</a><ul>
<li class="chapter" data-level="4.13.1" data-path="data-visualisation.html"><a href="data-visualisation.html#making-grattan-charts"><i class="fa fa-check"></i><b>4.13.1</b> Making Grattan charts</a></li>
<li class="chapter" data-level="4.13.2" data-path="data-visualisation.html"><a href="data-visualisation.html#saving-grattan-charts"><i class="fa fa-check"></i><b>4.13.2</b> Saving Grattan charts</a></li>
</ul></li>
<li class="chapter" data-level="4.14" data-path="data-visualisation.html"><a href="data-visualisation.html#chart-cookbook"><i class="fa fa-check"></i><b>4.14</b> Chart cookbook</a><ul>
<li class="chapter" data-level="4.14.1" data-path="data-visualisation.html"><a href="data-visualisation.html#bar-charts"><i class="fa fa-check"></i><b>4.14.1</b> Bar charts</a></li>
<li class="chapter" data-level="4.14.2" data-path="data-visualisation.html"><a href="data-visualisation.html#line-charts"><i class="fa fa-check"></i><b>4.14.2</b> Line charts</a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="data-visualisation.html"><a href="data-visualisation.html#warning-in-grattanthemegrattan_paln-n-reverse-reverse-using-more"><i class="fa fa-check"></i><b>4.15</b> Warning in grattantheme::grattan_pal(n = n, reverse = reverse): Using more</a></li>
<li class="chapter" data-level="4.16" data-path="data-visualisation.html"><a href="data-visualisation.html#than-six-colours-is-not-recommended."><i class="fa fa-check"></i><b>4.16</b> than six colours is not recommended.</a></li>
<li class="chapter" data-level="4.17" data-path="data-visualisation.html"><a href="data-visualisation.html#warning-in-grattanthemegrattan_paln-n-reverse-reverse-using-more-1"><i class="fa fa-check"></i><b>4.17</b> Warning in grattantheme::grattan_pal(n = n, reverse = reverse): Using more</a></li>
<li class="chapter" data-level="4.18" data-path="data-visualisation.html"><a href="data-visualisation.html#than-six-colours-is-not-recommended.-1"><i class="fa fa-check"></i><b>4.18</b> than six colours is not recommended.</a><ul>
<li class="chapter" data-level="4.18.1" data-path="data-visualisation.html"><a href="data-visualisation.html#scatter-plots"><i class="fa fa-check"></i><b>4.18.1</b> Scatter plots</a></li>
<li class="chapter" data-level="4.18.2" data-path="data-visualisation.html"><a href="data-visualisation.html#distributions"><i class="fa fa-check"></i><b>4.18.2</b> Distributions</a></li>
<li class="chapter" data-level="4.18.3" data-path="data-visualisation.html"><a href="data-visualisation.html#maps"><i class="fa fa-check"></i><b>4.18.3</b> Maps</a></li>
</ul></li>
<li class="chapter" data-level="4.19" data-path="data-visualisation.html"><a href="data-visualisation.html#a-tibble-6-x-3-1"><i class="fa fa-check"></i><b>4.19</b> # A tibble: 6 x 3</a></li>
<li class="chapter" data-level="4.20" data-path="data-visualisation.html"><a href="data-visualisation.html#groups-state-2"><i class="fa fa-check"></i><b>4.20</b> # Groups: state [2]</a></li>
<li class="chapter" data-level="4.21" data-path="data-visualisation.html"><a href="data-visualisation.html#state-sa4_name-geometry"><i class="fa fa-check"></i><b>4.21</b> state sa4_name geometry</a></li>
<li class="chapter" data-level="4.22" data-path="data-visualisation.html"><a href="data-visualisation.html#multipolygon"><i class="fa fa-check"></i><b>4.22</b> <chr> <chr> &lt;MULTIPOLYGON [°]&gt;</a></li>
<li class="chapter" data-level="4.23" data-path="data-visualisation.html"><a href="data-visualisation.html#act-australian-capita-148.8041--35.71402-148.8018--35.7121-148.7"><i class="fa fa-check"></i><b>4.23</b> 1 ACT Australian Capita… (((148.8041 -35.71402, 148.8018 -35.7121, 148.7…</a></li>
<li class="chapter" data-level="4.24" data-path="data-visualisation.html"><a href="data-visualisation.html#nsw-capital-region-150.3113--35.66588-150.3126--35.66814-150."><i class="fa fa-check"></i><b>4.24</b> 2 NSW Capital Region (((150.3113 -35.66588, 150.3126 -35.66814, 150.…</a></li>
<li class="chapter" data-level="4.25" data-path="data-visualisation.html"><a href="data-visualisation.html#nsw-central-coast-151.315--33.55582-151.3159--33.55503-151.3"><i class="fa fa-check"></i><b>4.25</b> 3 NSW Central Coast (((151.315 -33.55582, 151.3159 -33.55503, 151.3…</a></li>
<li class="chapter" data-level="4.26" data-path="data-visualisation.html"><a href="data-visualisation.html#nsw-central-west-150.6107--33.06614-150.6117--33.07051-150."><i class="fa fa-check"></i><b>4.26</b> 4 NSW Central West (((150.6107 -33.06614, 150.6117 -33.07051, 150.…</a></li>
<li class="chapter" data-level="4.27" data-path="data-visualisation.html"><a href="data-visualisation.html#nsw-coffs-harbour---g-153.2785--29.91874-153.2773--29.92067-153."><i class="fa fa-check"></i><b>4.27</b> 5 NSW Coffs Harbour - G… (((153.2785 -29.91874, 153.2773 -29.92067, 153.…</a></li>
<li class="chapter" data-level="4.28" data-path="data-visualisation.html"><a href="data-visualisation.html#nsw-far-west-and-orana-150.1106--31.74613-150.1103--31.74892-150."><i class="fa fa-check"></i><b>4.28</b> 6 NSW Far West and Orana (((150.1106 -31.74613, 150.1103 -31.74892, 150.…</a></li>
<li class="chapter" data-level="4.29" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-simple-interactive-graphs-with-plotly"><i class="fa fa-check"></i><b>4.29</b> Creating simple interactive graphs with <code>plotly</code></a></li>
<li class="chapter" data-level="4.30" data-path="data-visualisation.html"><a href="data-visualisation.html#bin-generate-data-used-before-prior-sections-are-constructed"><i class="fa fa-check"></i><b>4.30</b> bin: generate data used (before prior sections are constructed)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reading-data.html"><a href="reading-data.html"><i class="fa fa-check"></i><b>5</b> Reading data</a><ul>
<li class="chapter" data-level="5.1" data-path="reading-data.html"><a href="reading-data.html#importing-data"><i class="fa fa-check"></i><b>5.1</b> Importing data</a><ul>
<li class="chapter" data-level="5.1.1" data-path="reading-data.html"><a href="reading-data.html#reading-csv-files"><i class="fa fa-check"></i><b>5.1.1</b> Reading CSV files</a></li>
<li class="chapter" data-level="5.1.2" data-path="reading-data.html"><a href="reading-data.html#readxlread_excel"><i class="fa fa-check"></i><b>5.1.2</b> <code>readxl::read_excel()</code></a></li>
<li class="chapter" data-level="5.1.3" data-path="reading-data.html"><a href="reading-data.html#rio"><i class="fa fa-check"></i><b>5.1.3</b> <code>rio</code></a></li>
<li class="chapter" data-level="5.1.4" data-path="reading-data.html"><a href="reading-data.html#readabs"><i class="fa fa-check"></i><b>5.1.4</b> <code>readabs</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="reading-data.html"><a href="reading-data.html#reading-common-files"><i class="fa fa-check"></i><b>5.2</b> Reading common files:</a></li>
<li class="chapter" data-level="5.3" data-path="reading-data.html"><a href="reading-data.html#appropriately-renaming-variables"><i class="fa fa-check"></i><b>5.3</b> Appropriately renaming variables</a></li>
<li class="chapter" data-level="5.4" data-path="reading-data.html"><a href="reading-data.html#getting-to-tidy-data"><i class="fa fa-check"></i><b>5.4</b> Getting to tidy data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="different-data-types.html"><a href="different-data-types.html"><i class="fa fa-check"></i><b>6</b> Different data types</a><ul>
<li class="chapter" data-level="6.1" data-path="different-data-types.html"><a href="different-data-types.html#tidy-data"><i class="fa fa-check"></i><b>6.1</b> Tidy data</a></li>
<li class="chapter" data-level="6.2" data-path="different-data-types.html"><a href="different-data-types.html#dates-with-lubridate"><i class="fa fa-check"></i><b>6.2</b> Dates with <code>lubridate::</code></a></li>
<li class="chapter" data-level="6.3" data-path="different-data-types.html"><a href="different-data-types.html#strings-with-stringr"><i class="fa fa-check"></i><b>6.3</b> Strings with <code>stringr::</code></a></li>
<li class="chapter" data-level="6.4" data-path="different-data-types.html"><a href="different-data-types.html#factors-with-forcats"><i class="fa fa-check"></i><b>6.4</b> Factors with <code>forcats::</code></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>7</b> Data transformation</a><ul>
<li class="chapter" data-level="7.1" data-path="data-transformation.html"><a href="data-transformation.html#the-pipe"><i class="fa fa-check"></i><b>7.1</b> The pipe</a></li>
<li class="chapter" data-level="7.2" data-path="data-transformation.html"><a href="data-transformation.html#key-dplyr-functions"><i class="fa fa-check"></i><b>7.2</b> Key <code>dplyr</code> functions:</a></li>
<li class="chapter" data-level="7.3" data-path="data-transformation.html"><a href="data-transformation.html#filter-with-filter"><i class="fa fa-check"></i><b>7.3</b> Filter with <code>filter()</code></a></li>
<li class="chapter" data-level="7.4" data-path="data-transformation.html"><a href="data-transformation.html#arrange-with-arrange"><i class="fa fa-check"></i><b>7.4</b> Arrange with <code>arrange()</code></a></li>
<li class="chapter" data-level="7.5" data-path="data-transformation.html"><a href="data-transformation.html#select-variables-with-select"><i class="fa fa-check"></i><b>7.5</b> Select variables with <code>select()</code></a></li>
<li class="chapter" data-level="7.6" data-path="data-transformation.html"><a href="data-transformation.html#group-data-with-group_by"><i class="fa fa-check"></i><b>7.6</b> Group data with <code>group_by()</code></a></li>
<li class="chapter" data-level="7.7" data-path="data-transformation.html"><a href="data-transformation.html#edit-and-add-new-variables-with-mutate"><i class="fa fa-check"></i><b>7.7</b> Edit and add new variables with <code>mutate()</code></a><ul>
<li class="chapter" data-level="7.7.1" data-path="data-transformation.html"><a href="data-transformation.html#cases-when-you-should-use-case_when"><i class="fa fa-check"></i><b>7.7.1</b> Cases when you should use <code>case_when()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="data-transformation.html"><a href="data-transformation.html#summarise-data-with-summarise"><i class="fa fa-check"></i><b>7.8</b> Summarise data with <code>summarise()</code></a></li>
<li class="chapter" data-level="7.9" data-path="data-transformation.html"><a href="data-transformation.html#joining-datasets-with-_join"><i class="fa fa-check"></i><b>7.9</b> Joining datasets with <code>*_join()</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="analysis.html"><a href="analysis.html"><i class="fa fa-check"></i><b>8</b> Analysis</a></li>
<li class="chapter" data-level="9" data-path="creating-functions.html"><a href="creating-functions.html"><i class="fa fa-check"></i><b>9</b> Creating functions</a><ul>
<li class="chapter" data-level="9.1" data-path="creating-functions.html"><a href="creating-functions.html#it-can-be-useful-to-make-your-own-function"><i class="fa fa-check"></i><b>9.1</b> It can be useful to make your own function</a></li>
<li class="chapter" data-level="9.2" data-path="creating-functions.html"><a href="creating-functions.html#defining-simple-functions"><i class="fa fa-check"></i><b>9.2</b> Defining simple functions</a></li>
<li class="chapter" data-level="9.3" data-path="creating-functions.html"><a href="creating-functions.html#more-complex-functions"><i class="fa fa-check"></i><b>9.3</b> More complex functions</a></li>
<li class="chapter" data-level="9.4" data-path="creating-functions.html"><a href="creating-functions.html#sets-of-functions"><i class="fa fa-check"></i><b>9.4</b> Sets of functions</a></li>
<li class="chapter" data-level="9.5" data-path="creating-functions.html"><a href="creating-functions.html#using-purrrmap"><i class="fa fa-check"></i><b>9.5</b> Using <code>purrr::map</code></a></li>
<li class="chapter" data-level="9.6" data-path="creating-functions.html"><a href="creating-functions.html#sharing-your-useful-functions-with-grattan"><i class="fa fa-check"></i><b>9.6</b> Sharing your useful functions with Grattan</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>10</b> Version control</a><ul>
<li class="chapter" data-level="10.1" data-path="version-control.html"><a href="version-control.html#version-control-is-important-and-intimidating"><i class="fa fa-check"></i><b>10.1</b> Version control is important and intimidating</a></li>
<li class="chapter" data-level="10.2" data-path="version-control.html"><a href="version-control.html#github"><i class="fa fa-check"></i><b>10.2</b> Github</a></li>
<li class="chapter" data-level="10.3" data-path="version-control.html"><a href="version-control.html#git"><i class="fa fa-check"></i><b>10.3</b> Git</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using R at Grattan Institute</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="organising-an-r-project-at-grttan" class="section level1">
<h1><span class="header-section-number">3</span> Organising an R project at Grttan</h1>
<p>Our analysis has to be reproducible. <strong>Elaborate here</strong></p>
<p>By sticking to a consistent way of organising our analyses, we’re more able to read and check each others’ work. This is really important! If your analysis is messy, you’re more likely to make errors, and less likely to spot them. Other people will find it hard to check your work and you’ll find it harder to return to it down the track. All our work, in R or otherwise, should heed the “hit by a bus” rule - if you’re not around, colleagues should be able to access, understand, verify, and build on the work you’ve done.</p>
<p>This page sets out some guidelines for organising your work in R at Grattan. It covers:</p>
<ul>
<li>Using RStudio projects and relative filepaths</li>
<li>Using a consistent subfolder structure</li>
<li>Naming your scripts and keeping them manageable</li>
<li>Coding style at Grattan</li>
<li>Preferring the tidyverse</li>
</ul>
<div id="use-rstudio-projects-dont-use-setwd" class="section level2">
<h2><span class="header-section-number">3.1</span> Use RStudio projects, don’t use <code>setwd()</code></h2>
<p>You’ll almost always be reading and/or writing files to disk as part of your analysis in R. To do this, R needs to know where to read files from and save files to - your working directory.</p>
<p>One way to tell R which folder to use as your working directory is using the command <code>setwd()</code>, like <code>setwd("~/Desktop/some random folder")</code> or <code>setwd("C:\Users\mcowgill\Documents\Somerandomfolder")</code>. This is a bad idea! If anyone - including you - tries to run your scripts on a different machine, with a different folder structure, it probably won’t work. If people can’t get past the first line when they’re trying to run your script, they can’t check your work.</p>
<p>Creating a ‘project’ in RStudio is a way to set your working directory in a way that’s portable across machines. Creating an RStudio project is straightforward: <strong>click File, then New Project</strong>. You can then choose to start your project in a new directory, or an existing directory. Simple!</p>
<p>RStudio will then create a file with an .Rproj extension in the folder you’ve chosen. When you want to work in this project, just open the .Rproj file, or click File -&gt; Open project in RStudio. Your working directory will be set to the directory that contains the .Rproj file.</p>
</div>
<div id="keep-your-stuff-together" class="section level2">
<h2><span class="header-section-number">3.2</span> Keep your stuff together</h2>
<p>Your script(s), data, and output should generally all live in the same place.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> That place should be the folder that contains the .Rproj file that was created when you created an R</p>
<div id="filepaths" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Filepaths</h3>
<p>Filepaths should be relative to the working directory, and the working directory should be set by the project.</p>
<p><strong>Good</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">hes &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/HES/hes1516.csv&quot;</span>)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">grattan_save</span>(<span class="st">&quot;images/expenditure_by_income.pdf&quot;</span>)</a></code></pre></div>
<p><strong>Bad</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">hes &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;/Users/mcowgill/Desktop/hes1516.csv&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" title="2">hes &lt;-<span class="st"> </span><span class="kw">read_csb</span>(<span class="st">&quot;C:\Users\mcowgill\Desktop\hes1516.csv&quot;</span>)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">grattan_save</span>(<span class="st">&quot;/Users/mcowgill/Desktop/images/expenditure_by_income.pdf&quot;</span>)</a></code></pre></div>
</div>
<div id="keep-your-scripts-manageable" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Keep your scripts manageable</h3>
<p>As a general rule of thumb, use one script per output. It should be clear what your script is trying to do (use comments!).</p>
<p>Consider breaking your analysis into pieces. For example:</p>
<ul>
<li>01_import.R</li>
<li>02_tidy.R</li>
<li>03_model.R</li>
<li>04_visualise.R</li>
</ul>
<p><strong>Don’t</strong> include interactive work (like <code>View(mydf)</code>, <code>str(mydf)</code>, <code>mean(mydf$variable)</code>, etc.) in your saved script.</p>
</div>
<div id="use-subfolders-of-your-project-folder" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Use subfolders of your project folder</h3>
<p>Remember the hit-by-a-bus rule. It should be easy for any Grattan colleague to open your project folder and get up to speed with what it does. Putting all your files - raw data, scripts, output - in the one folder makes it harder to understand how your work fits together.</p>
<p>Use subfolders to clearly separate your code, raw data, and output.</p>
</div>
</div>
<div id="grattan-coding-style-guide" class="section level2">
<h2><span class="header-section-number">3.3</span> Grattan coding style guide</h2>
<p>Short summary of why</p>
<p>Link to style guide</p>
</div>
<div id="what-is-the-tidyverse-and-why-do-we-use-it" class="section level2">
<h2><span class="header-section-number">3.4</span> What is the tidyverse and why do we use it?</h2>
<p>Introduce following chapters</p>
</div>
<div id="an-introduction-to-rmarkdown" class="section level2">
<h2><span class="header-section-number">3.5</span> An introduction to RMarkdown</h2>
</div>
<div id="resources-in-this-package" class="section level2">
<h2><span class="header-section-number">3.6</span> Resources in this package</h2>
<ul>
<li>Starting a piece of analysis ‘cheat sheet’.</li>
<li>Updated style guide.</li>
<li>Written guide/slides.</li>
</ul>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>This isn’t always possible, like when you’re working with restricted-access microdata. But unless there’s a really good reason why you can’t keep your data together with the rest of your work, you should do it.<a href="organising-an-r-project-at-grttan.html#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="why-use-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualisation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["r-at-grattan.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
